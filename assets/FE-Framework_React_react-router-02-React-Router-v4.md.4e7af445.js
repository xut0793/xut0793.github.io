import{_ as a,c as t,o as s,a as o}from"./app.9dbb06c5.js";const h='{"title":"React Router v4 API","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u77E5\u8BC6\u6982\u8981","slug":"\u77E5\u8BC6\u6982\u8981"},{"level":2,"title":"\u57FA\u7840\u4F7F\u7528","slug":"\u57FA\u7840\u4F7F\u7528"}],"relativePath":"FE-Framework/React/react-router-02-React-Router-v4.md"}',n={},e=o(`<h1 id="react-router-v4-api" tabindex="-1">React Router v4 API <a class="header-anchor" href="#react-router-v4-api" aria-hidden="true">#</a></h1><p>React Router 4 \u5F15\u5165\u4E86\u4E00\u79CD\u57FA\u4E8E component \u7684\u52A8\u6001\u8DEF\u7531\uFF0C\u533A\u522B\u4E4B\u524D\u7248\u672C\u7684\u9759\u6001\u8DEF\u7531\uFF08\u6216\u8005\u8BF4\u96C6\u4E2D\u5F0F\u8DEF\u7531\uFF09 <a href="https://www.jianshu.com/p/5c3a77b6b250" target="_blank" rel="noopener noreferrer">react+router4 \u5165\u95E8</a><a href="https://www.jianshu.com/p/bf6b45ce5bcc" target="_blank" rel="noopener noreferrer">React Router V3 \u4E0E V4 \u7684\u533A\u522B</a></p><p>v2/v3 \u7684\u7248\u672C\u91C7\u7528\u7684\u65B9\u5F0F\u662F\u5C06\u8DEF\u7531\u770B\u6210\u662F\u4E00\u4E2A\u6574\u4F53\u7684\u5355\u5143\uFF0C\u4E0E\u522B\u7684\u7EC4\u4EF6\u662F\u5206\u79BB\u7684\uFF0C\u4E00\u822C\u4F1A\u5355\u72EC\u653E\u5230\u4E00\u4E2A router \u6587\u4EF6\u4E2D\uFF0C\u5BF9\u5176\u8FDB\u884C\u96C6\u4E2D\u5F0F\u7BA1\u7406\uFF1B\u5E76\u4E14\uFF0C\u5E03\u5C40\u548C\u9875\u9762\u7684\u5D4C\u5957\u7531\u8DEF\u7531\u7684\u5D4C\u5957\u6240\u51B3\u5B9A\u3002</p><p>v4 \u7684\u7248\u672C\u5219\u5C06\u8DEF\u7531\u8FDB\u884C\u4E86\u62C6\u5206\uFF0C\u5C06\u5176\u653E\u5230\u4E86\u5404\u81EA\u7684\u6A21\u5757\u4E2D\uFF0C\u4E0D\u518D\u6709\u5355\u72EC\u7684 router \u6A21\u5757\u800C\u662F\u5BF9\u5E94\u4E0D\u540C\u5E73\u53F0\u7EC8\u7AEF\u7684 router\uFF0C\u5145\u5206\u4F53\u73B0\u4E86\u7EC4\u4EF6\u5316\u7684\u601D\u60F3\u3002</p><h2 id="\u77E5\u8BC6\u6982\u8981" tabindex="-1">\u77E5\u8BC6\u6982\u8981 <a class="header-anchor" href="#\u77E5\u8BC6\u6982\u8981" aria-hidden="true">#</a></h2><table><thead><tr><th>\u6838\u5FC3\u6982\u5FF5</th><th>\u8DEF\u7531\u5668<code>&lt;Router&gt;</code></th><th>\u8DEF\u7531<code>&lt;Route&gt;</code></th><th>\u5BFC\u822A<code>&lt;Link&gt;</code></th></tr></thead><tbody><tr><td>\u5C01\u88C5\u7EC4\u4EF6</td><td><code>&lt;BrowserRouter&gt;</code><br><code>&lt;HashRouter&gt;</code><br><code>&lt;NativeRouter&gt;</code><br><code>&lt;memoryRouter&gt;</code><br><code>&lt;staticRouter&gt;</code></td><td><code>&lt;Switch&gt;</code></td><td><code>&lt;NavLink&gt;</code><br><code>&lt;Redirect&gt;</code></td></tr><tr><td>\u4E3B\u8981\u7279\u6027</td><td><code>basename={string}</code><br><code>forceRefresh={bool}</code><br><code>getUserConfirmation={func}</code><br><code>keyLength={number}</code></td><td><div style="font-size:12px;font-weight:bold;">\u4E09\u79CD\u7EC4\u4EF6\u6E32\u67D3\u65B9\u5F0F\uFF1A</div><code>component={Comp}</code><br><code>render={func}</code><br><code>children={func}</code><br><div style="font-size:12px;font-weight:bold;margin-top:10px;">\u8DEF\u5F84\u5339\u914D\uFF1A</div><code>path={string}</code><br><code>exact={bool}</code><br><code>strict={bool}</code><br><code>sensitive={bool}</code><div style="font-size:12px;font-weight:bold;margin-top:10px;">\u4F20\u5165\u7EC4\u4EF6\u7684\u4E09\u5927 props\uFF1A</div><code>match</code> <code>location</code> <code>history</code></td><td><div style="font-size:12px;font-weight:bold;">Link / Redirect</div>\`to={string</td></tr><tr><td>\u7F16\u7A0B\u5BFC\u822A</td><td></td><td></td><td><div style="font-size:12px;font-weight:bold;">\u7EC4\u4EF6\u6807\u7B7E\u5BFC\u822A\uFF1A</div><code>Link</code> <code>NavLink</code> <code>Redirect</code><div style="font-size:12px;font-weight:bold;">\u7F16\u7A0B\u5BFC\u822A\uFF1A</div><code>this.props.history.push(path[,state])</code><br> <code>this.props.history.replace(path[,state])</code><br> <code>this.props.history.go(n)</code><br> <code>this.props.history.goBack()</code><br><code>this.props.history.goForward()</code></td></tr><tr><td>\u53C2\u6570\u4F20\u9012</td><td></td><td><div style="font-size:12px;font-weight:bold;">\u7EC4\u4EF6\u5185\u63A5\u6536\uFF1A</div><code>path=&#39;/path/:name&#39;</code> =&gt; <code>this.props.match.params.name</code><br><code>path=&#39;/path&#39;</code>=&gt;<code>this.props.location.search</code><br><code>path=&#39;/path&#39;</code>=&gt;<code>this.props.location.state</code></td><td><div style="font-size:12px;font-weight:bold;">\u5BFC\u822A\u8DEF\u5F84\u4F20\u9012\u53C2\u6570\uFF1A</div> <code>&lt;Link to=&#39;path/xu&#39; /&gt;</code><br><code>&lt;Link to=&#39;path?name=xu&amp;uid=1&#39; /&gt;</code><br><code>&lt;link to={object\u5F62\u5F0F} /&gt;</code><div style="font-size:12px;font-weight:bold;">\u7F16\u7A0B\u5BFC\u822A\u4F20\u9012\uFF1A</div> <code>this.props.history.push(object\u5F62\u5F0F)</code></td></tr><tr><td>\u7EC4\u4EF6<code>props</code></td><td></td><td><div style="font-size:12px;font-weight:bold;margin-top:10px;">match</div><code>path</code> <code>url</code> <code>params</code> <code>isExact</code><div style="font-size:12px;font-weight:bold;margin-top:10px;">location</div><code>pathname</code> <code>hash</code> <code>search</code> <code>state</code><div style="font-size:12px;font-weight:bold;margin-top:10px;">history</div><code>length</code> <code>push(path, [state])</code> <code>replace(path, [state])</code> <code>go(n)</code> <code>goBack()</code> <code>goForward()</code></td><td></td></tr></tbody></table><h2 id="\u57FA\u7840\u4F7F\u7528" tabindex="-1">\u57FA\u7840\u4F7F\u7528 <a class="header-anchor" href="#\u57FA\u7840\u4F7F\u7528" aria-hidden="true">#</a></h2><p>\u540C<code>React</code>\u4E00\u6837\u5206\u4E3A\u6838\u5FC3\u5305\u548C\u4E0D\u540C\u7EC8\u7AEF\u6E32\u67D3\u7684\u5305\u3002<code>Router</code>\u6838\u5FC3\u5305\u662F<code>react-router</code>\uFF0C\u7136\u540E\u5728 web \u7AEF\u8DEF\u7531\u4F7F\u7528<code>react-router-dom</code>,\u4E0D\u540C\u7684\u662F<code>react-router-dom</code>\u96C6\u6210\u4E86<code>react-router</code>\u4E86\uFF0C\u6240\u4EE5\u5728 web \u7AEF\u53EA\u4F7F\u7528\u8DEF\u7531\u53EA\u9700\u8981\u4E0B\u8F7D<code>react-router-dom</code>\u5305\u5373\u53EF</p><p><strong>\u5B89\u88C5 router</strong></p><div class="language-js"><pre><code><span class="token comment">// npm</span>
npm i <span class="token operator">-</span><span class="token constant">S</span> react<span class="token operator">-</span>router<span class="token operator">-</span>dom

<span class="token comment">// yarn</span>
yarn add react<span class="token operator">-</span>router<span class="token operator">-</span>dom
</code></pre></div><p><strong>\u5F15\u5165 router \u7684\u8DEF\u7531\u7EC4\u4EF6</strong></p><div class="language-js"><pre><code><span class="token comment">// web\u7AEF</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
</code></pre></div><p><strong>\u7EC4\u4EF6\u5185\u4F7F\u7528\u8DEF\u7531\u7EC4\u4EF6</strong></p><div class="language-js"><pre><code><span class="token comment">// \u8DEF\u7531\u5BFC\u822A\u53EF\u4EE5\u4F7F\u7528Link\uFF0C\u4E5F\u53EF\u4EE5\u5728\u7EC4\u4EF6\u5185\u4F7F\u7528\u7F16\u7A0B\u5BFC\u822A</span>
<span class="token comment">// Route \u53EF\u4EE5\u4F5C\u4E3A\u7EC4\u4EF6\u5728\u4EFB\u4F55\u7EC4\u4EF6\u5185\u90E8\u4F7F\u7528</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Layout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>header<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                    Home
                <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/content&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                    Content
                <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">&quot;/about&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
                    About
                <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>header<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>main<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Route exact path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>HomePage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/content&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>ContentPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/about&quot;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>AboutPage<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>main<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">HomePage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Home<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token keyword">const</span> <span class="token function-variable function">ContentPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Content<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token keyword">const</span> <span class="token function-variable function">AboutPage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>About<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>

<span class="token keyword">const</span> <span class="token function-variable function">App</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Layout <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>

<span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>`,14),p=[e];function r(c,l,d,i,k,u){return s(),t("div",null,p)}var b=a(n,[["render",r]]);export{h as __pageData,b as default};
